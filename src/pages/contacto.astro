---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import Formcontact from "../components/Formcontact";
---

<Layout title="Contacto - Iglesia Bautista Fundamental Monte Calvario">
	<Header />
	<main>
		<section class="contacto">
			<div class="container">
				<h1>Contacto</h1>
				<div class="contact-info">
					<p>
						<strong>Dirección:</strong>
						<a
							href="https://www.google.com/maps/place/Calle+Sta+Mercedes+183,+Lima+15067/@-12.1897879,-77.0120983,17z/data=!3m1!4b1!4m5!3m4!1s0x9105b9d8bc53874b:0x7ffc2bd3074530f8!8m2!3d-12.1897932!4d-77.0095234?entry=ttu&g_ep=EgoyMDI0MTAyOS4wIKXMDSoASAFQAw%3D%3D"
							>Jiron Sta. Mercedes 183, Chorrillos 15066, Perú</a
						>
					</p>
					<p>
						<strong>Teléfono:</strong><a
							target="_blank"
							href="tel:+51966600819">(51) 966-600-819</a
						>
					</p>
					<p>
						<strong>Email:</strong>
						<a href="mailto:artemisionperu@gmail.com"
							>artemisionperu@gmail.com</a
						>
					</p>
				</div>
<Formcontact/>
			{/*<form
					id="contact-form"
					class="contact-form"
					action="https://script.google.com/macros/s/AKfycbymlSBmlCxBoYwvnNNqgf-pEk7G8Hts1K110_PzTmKZGcsRXlwHImEhi1-psHF4_qkS/exec"
					method="POST"
				>
					<input
						type="text"
						name="name"
						placeholder="Nombre"
						required
					/>
					<input
						type="email"
						name="email"
						placeholder="Correo electrónico"
						required
					/>
					<textarea name="message" placeholder="Mensaje" required
					></textarea>
					<button type="submit">Enviar mensaje</button>
				</form> */}	
			</div>
		</section>
	</main>
	<Footer />
</Layout>

<style>
	.contacto {
		padding: 4rem 0;
	}
	.container {
		max-width: 800px;
		margin: 0 auto;
	}
	h1 {
		color: var(--color-primary);
		font-size: 2.5rem;
		margin-bottom: 2rem;
		text-align: center;
	}
	.contact-info {
		text-align: center;
		margin-bottom: 2rem;
	}
	.contact-form {
		display: flex;
		flex-direction: column;
		gap: 1rem;
	}
	input,
	textarea {
		padding: 0.5rem;
		border: 1px solid #ccc;
		border-radius: 4px;
	}
	textarea {
		height: 150px;
	}
	button {
		background-color: var(--color-primary);
		color: var(--color-background);
		padding: 0.5rem 1rem;
		border: none;
		border-radius: 4px;
		cursor: pointer;
		transition: background-color 0.3s ease;
	}
	button:hover {
		background-color: var(--color-secondary);
	}
</style>

<script>
	const form = document.querySelector<HTMLFormElement>("#contact-form");

	form.addEventListener("submit", async (event) => {
		event.preventDefault(); // Evita el envío normal del formulario

		try {
			const response = await fetch(form.action, {
				method: "POST",
				body: new FormData(form),
			});

			const data = await response.json();
			if (data.success) {
				// Mostrar un toast de éxito
				alert("Datos enviados correctamente"); // Puedes usar una librería de toast para un mejor estilo
				// Redirigir a la página actual
				window.location.href = window.location.href;
			} else {
				// Mostrar un toast de error
				alert("Error al enviar los datos: " + data.error);
			}
		} catch (error) {
			console.error("Error al enviar el formulario:", error);
			alert(
				"Error al enviar el formulario. Inténtalo de nuevo más tarde.",
			);
		}
	});
</script>